# Краткая инструкция по запуску SOCKS-туннеля через SSH

1. Откройте терминал.
2. Выполните команду:
   ~~~bash
   ssh -D 1080 -N user@сервер
   ~~~
   - `1080` — локальный порт.
   - `user@сервер` — пользователь и адрес сервера.
3. Введите пароль или используйте SSH-ключ.
4. Настройте приложение:
   - Хост: `localhost`
   - Порт: `1080`
   - Протокол: SOCKS5
5. Для фонового режима добавьте `-f`:
   ~~~bash
   ssh -f -D 1080 -N user@сервер
   ~~~
6. Закройте туннель: найдите процесс (`ps aux | grep ssh`) и завершите (`kill <PID>`).

### Запуск `sudo apt update` и других команд через SOCKS-прокси

Чтобы выполнить `sudo apt update` через SOCKS-прокси, используйте `proxychains`.

1. Установите `proxychains`:
~~~
sudo apt install proxychains
~~~

2. Настройте `/etc/proxychains.conf`, добавив SOCKS-прокси:
~~~
socks5 proxy_ip proxy_port
~~~

3. Выполните команду:
~~~
proxychains sudo apt update
~~~

**Примечание**: Если возникает ошибка с `LD_PRELOAD`, используйте `sudo -E` или настройте `sudoers` для сохранения окружения или выполните команду следующим образом:
~~~
sudo proxychains sudo apt update
~~~
